Так как конфигурация оборудования не обновляется, если уже содержит вносимые изменеия, то при анализе вывода затруднено понимание куда и какие исправления были внесены:
![](Admining/Linux/Ansible/Ansible_для_сетевых_инженеров/pictures/29.jpg)
На выводе выше ясно, что изменено было что-то только на R3, но что именно, поможет понять конструкция
![](Admining/Linux/Ansible/Ansible_для_сетевых_инженеров/pictures/30.jpg)
```
    - name: Show config updates
      debug: var=cfg.updates
      when: cfg.changed    
```

Изменения в playbook:
- результат работы первой задачи сохраняется в переменную **cfg**.
- в следующей задаче модуль **debug** выводит содержимое поля **updates**. 
- но так как поле updates в выводе есть только в том случае, когда есть изменения, ставится условие when, которое проверяет, были ли изменения    
- задача будет выполняться, только если на устройстве были внесены изменения.    
- вместо `when: cfg.changed` можно написать `when: cfg.changed == true`

![](Admining/Linux/Ansible/Ansible_для_сетевых_инженеров/pictures/31.jpg)

Кстати, в режиме _verbose_ информация видна обо всех устройствах. Но удобней, чтобы информация отображалась только для тех устройств, для которых произошли изменения.